# 0.2 ハードウェア準備状況 (2025-11-27)

## 概要

TODO.md の「0.2 ハードウェア準備状況」に従い確認。
ドキュメントから判明した情報と、ユーザー確認が必要な項目を整理。

---

## 1. ESP32ボード

### ドキュメントから判明

| 項目 | 値 | ソース |
|------|-----|--------|
| ボード | ESP32 Dev Module | `docs/フェーズ0-0/実験装置最終仕様書.md` |
| ビルド環境 | Arduino-ESP32 v3.x | 同上 |
| 電源 | 外部3.3V直接供給 | 同上 |
| BLE設定 | Legacy Adv, 0 dBm | 同上 |

### 3ノード構成（Phase 0-0で使用）

| ノード | 役割 | ファームウェア |
|--------|------|----------------|
| TX | 送信 + 電流計測 | `esp32_sweep/TX_BLE_Adv_Meter_ON_sweep.ino` |
| TXSD | パワーロガー | `esp32_sweep/TXSD_PowerLogger_PASS_THRU_ON_v2.ino` |
| RX | BLE受信ロガー | `esp32_sweep/RX_BLE_to_SD_SYNC_B.ino` |

### ユーザー確認結果 (2025-11-27)

- [x] **物理的に手元にあるか？** → **YES** (3台)
- [x] **動作確認済みか？** → **YES**

---

## 2. 電力計測

### 使用機器

**決定**: **INA219構成を継続**（PPK-IIは使用しない）

| 項目 | 値 | ソース |
|------|-----|--------|
| 計測器 | INA219 | `docs/フェーズ0-0/実験装置最終仕様書.md` |
| 構成 | TX + TXSD PowerLogger | 同上 |
| シャント抵抗 | 0.1Ω (100mΩ) | 同上 |
| サンプリング | 100Hz (10ms周期) | 同上 |
| ベースライン | P_off = 22.106 mW | `docs/フェーズ1/results/delta_energy_row1120_row1123_off.md` |

### ユーザー確認結果 (2025-11-27)

- Phase 0-0と同じINA219構成を維持
- PPK-IIは使用しない

---

## 3. Android端末

### 設定要件

| 項目 | 値 | ソース |
|------|-----|--------|
| スキャンモード | LOW_LATENCY | `docs/TODO.md` |
| フィルタ | "TXM_ESP32" (デバイス名) | 同上 |
| 計測項目 | timestamp, RSSI, Advertising Data | 同上 |
| 使用アプリ | nRF Connect for Mobile | 2025-11-28決定 |

### ユーザー確認結果 (2025-11-27)

- [x] **機種名**: **Galaxy S9**
- [ ] **OSバージョン**: 後日確認
- [x] **BLE受信アプリ**: nRF Connect使用 (2025-11-28決定)

---

## 4. 実験環境

### 環境定義

| 環境 | 説明 |
|------|------|
| E1 | 低干渉（Wi-Fi OFF等） |
| E2 | 高Wi-Fi干渉（Wi-Fi稼働） |

### ユーザー確認結果 (2025-11-27)

- [ ] **E1環境**: 未確認
- [x] **E2環境**: **確保済み**（簡易に実施可能）
- [ ] **距離1mの固定方法**: 要確認

---

## 5. ステータスサマリ

| カテゴリ | 状態 | 備考 |
|----------|------|------|
| ESP32ボード | **OK** | 3台動作確認済み |
| 電力計測 | **OK** | INA219構成を継続 |
| Android端末 | **一部未確認** | Galaxy S9、OSバージョン後日 |
| 実験環境 | **一部未確認** | E2確保済み、E1未確認 |

---

## 6. 残タスク

- [ ] Android OSバージョン確認
- [x] ~~BLE受信アプリの準備確認~~ → nRF Connect使用 (2025-11-28決定)
- [ ] E1環境の確保確認
- [ ] 距離1mマーキング確認

---

## 7. 修正履歴

| 日付 | 内容 |
|------|------|
| 2025-11-27 | 初版作成 |
| 2025-11-28 | 誤記修正: (1) PPK-II→INA219に修正しソース明記, (2) Android「Passiveスキャン」削除, (3) 距離1m「マーキング済み」→「要確認」に修正, (4) nRF Connect使用を追記 |

---

*Last updated: 2025-11-28*
